document.addEventListener('DOMContentLoaded', function() {
    const hamburgerMenuButton = document.querySelector('.hamburger-menu');
    const hamburgerList = document.querySelector('#hamburgerList'); // Or use .hamburger-list if you prefer class selectors

    hamburgerMenuButton.addEventListener('click', function() {
        hamburgerList.classList.toggle('active');
    });

    const flashcards = [
    {
        "front": "หน้า ๑ เล่ม ๑๓๔ - - - - - ๓ มีนาคม ๒๕๖๐",
        "back": "ตอน พิเศษ ๖๗ ง ราชกิจจานุเบกษา"
    },
    {
        "front": "ระเบียบ กรมการจัดหางาน ว่าด้วย การ ส่งเสริม - - - - - บ้าน พ.ศ.๒๕๖๐",
        "back": "การ รับงาน ไป ทํา ที่"
    },
    {
        "front": "เพื่อ ให้การ ส่งเสริม การ รับงาน ไป ทํา ที่ บ้าน เป็นไป - - - - -",
        "back": "ด้วย ความ เรียบร้อย และ มีประสิทธิภาพ"
    },
    {
        "front": "มากยิ่งขึ้น อาศัย อํา - - - - - ๓๒ แห่ง พระราชบัญญัติ ระเบียบ บริหาร ราชการ แผ่นดิน",
        "back": "นา จ ตาม ความใน มาตรา"
    },
    {
        "front": "พ.ศ.๒๕๓๔ ซึ่ง แก้ไข เพิ่มเติม โดย พระราชบัญญัติ ระเบียบ บริหาร ราชการ - - - - - อธิบดี",
        "back": "แผ่นดิน (ฉบับ ที่ ๕) พ.ศ.๒๕๔๕"
    },
    {
        "front": "- - - - -",
        "back": "กรมการจัดหางาน จึง วางระเบียบ ไว้ ดังต่อไปนี้"
    },
    {
        "front": "ข้อ ๑ ระเบียบ นี้ - - - - - การ ส่งเสริม การ รับงาน ไป ทํา ที่ บ้าน พ.ศ.๒๕๖๐”",
        "back": "เรียก ว่า “ระเบียบ กรมการจัดหางาน ว่าด้วย"
    },
    {
        "front": "ข้อ ๒ - - - - - ตั้ง แต่วัน ถัดจาก วัน ประกาศ เป็นต้นไป ข้อ ๓ ให้ ยกเลิก",
        "back": "ระเบียบ นี้ ให้ ใช้ บังคับ"
    },
    {
        "front": "(๑) ระเบียบ กรมการจัดหางาน ว่าด้วย การ ส่งเสริม - - - - - บ้าน พ.ศ.๒๕๔๖",
        "back": "การ รับงาน ไป ทํา ที่"
    },
    {
        "front": "(๒) ระเบียบ กรมการจัดหางาน ว่าด้วย - - - - - ทํา ที่ บ้าน (ฉบับ ที่ ๒) พ.ศ.๒๕๕๓",
        "back": "การ ส่งเสริม การ รับงาน ไป"
    },
    {
        "front": "ข้อ ๔ ใน ระเบียบ นี้ - - - - - ที่ บ้าน” หมายความว่า งาน ที่",
        "back": "“งาน ที่ รับ ไป ทํา"
    },
    {
        "front": "ผู้ จ้างงาน มอบให้ ผู้ รับงาน ไป ทํา ที่ บ้าน เพื่อ - - - - -",
        "back": "ไป ผลิต ประกอบ บรรจุ ซ่อม"
    },
    {
        "front": "หรือ แปรรูป สิ่งของ ตามที่ ได้ ตกลง ใน บ้าน ของ - - - - - สถาน",
        "back": "ตนเอง หรือ สถานที่ ที่ มิใช่"
    },
    {
        "front": "- - - - -",
        "back": "ประกอบ กิจการ ของ ผู้ จ้างงาน"
    },
    {
        "front": "“ผู้ รับงาน ไป ทํา ที่ - - - - - บุคคล ซึ่ง ตกลง กับ ผู้",
        "back": "บ้าน” หมายความว่า บุคคล หรือ กลุ่ม"
    },
    {
        "front": "จ้างงาน เพื่อ รับ ทํา งาน อัน เป็นงาน - - - - - บ้าน และ จดทะเบียน ตามระเบียบ นี้",
        "back": "ที่ รับ ไป ทํา ที่"
    },
    {
        "front": "“นายทะเบียน” หมายความว่า จัดหา งาน จังหวัด หรือ ผู้ อํา นวย กา - - - - - กรุงเทพมหานคร พื้นที่",
        "back": "รส ํา นักงาน จัดหา งาน"
    },
    {
        "front": "- - - - - ไป ทํา ที่ บ้าน",
        "back": "“ทะเบียน” หมายความว่า ทะเบียน ผู้ รับงาน"
    },
    {
        "front": "ข้อ ๕ ให้ - - - - -",
        "back": "นายทะเบียน มี หน้าที่ ดังต่อไปนี้"
    },
    {
        "front": "(๑) จดทะเบียน ผู้ รับงาน ไป ทํา - - - - - ตน รับผิดชอบ",
        "back": "ที่ บ้าน ใน ท้องที่ ที่"
    },
    {
        "front": "(๒) ให้ คํา ปรึกษา และ แนะ นํา ต่อ - - - - - บ้าน เกี่ยวกับ",
        "back": "ผู้ รับงาน ไป ทํา ที่"
    },
    {
        "front": "- - - - - บ้าน",
        "back": "การ รับงาน ไป ทํา ที่"
    },
    {
        "front": "(๓) ส่งเสริม และ พัฒนาการ - - - - - ที่ บ้าน เพื่อ สร้าง ความมั่นคง ใน",
        "back": "เป็น ผู้ รับงาน ไป ทํา"
    },
    {
        "front": "- - - - - ใน การผลิต",
        "back": "กา รท ํา งาน เพิ่มประสิทธิภาพ"
    },
    {
        "front": "(๔) ส่งเสริม ให้ มี การพัฒนา ทักษะ อาชีพ ของ ผู้ รับงาน - - - - -",
        "back": "ไป ทํา ที่ บ้าน"
    },
    {
        "front": "(๕) ศึกษา วิเคราะห์ วิจัย - - - - - รับงาน ไป ทํา ที่ บ้าน",
        "back": "และ รวบรวม ข้อมูล เกี่ยวกับ การ"
    },
    {
        "front": "(๖) ติดตาม - - - - - ทํา ที่ บ้าน",
        "back": "ประเมินผล เกี่ยวกับ การ รับงาน ไป"
    },
    {
        "front": "หน้า - - - - - ๖๗ ง ราชกิจจานุเบกษา ๓ มีนาคม ๒๕๖๐",
        "back": "๒ เล่ม ๑๓๔ ตอน พิเศษ"
    },
    {
        "front": "ข้อ ๖ ผู้ รับงาน ไป ทํา ที่ บ้าน ที่ ประสงค์ - - - - -",
        "back": "จะ ขอ จดทะเบียน ต้อง มี"
    },
    {
        "front": "คุณสมบัติ และ ไม่ - - - - -",
        "back": "มี ลักษณะ ต้องห้าม ดังนี้"
    },
    {
        "front": "(๑) กรณี ผู้ รับงาน ไป - - - - - (ก) มี สัญชาติ ไทย",
        "back": "ทํา ที่ บ้าน เป็น บุคคล"
    },
    {
        "front": "(ข) มีอายุ - - - - -",
        "back": "ยี่สิบ ปี บริบูรณ์ ขึ้นไป"
    },
    {
        "front": "(ค) มี - - - - - ที่ บ้าน เป็น หลักแหล่ง",
        "back": "สถานที่ ที่ รับงาน ไป ทํา"
    },
    {
        "front": "(๒) กรณี ผู้ - - - - - เป็น กลุ่ม บุคคล",
        "back": "รับงาน ไป ทํา ที่ บ้าน"
    },
    {
        "front": "(ก) มี สมาชิก กลุ่ม ที่ มี คุณสมบัติ ตาม (๑) - - - - - ห้า",
        "back": "(ก) และ (ข) ไม่ น้อยกว่า"
    },
    {
        "front": "คน โดย ให้ เลือก - - - - - นํา กลุ่ม",
        "back": "สมาชิก หนึ่ง คน เป็น ผู้"
    },
    {
        "front": "(ข) สมาชิก กลุ่ม - - - - - ผู้ รับงาน ไป ทํา ที่ บ้าน อื่น",
        "back": "บุคคล จะ ต้อง ไม่ เป็น"
    },
    {
        "front": "(ค) มี สถานที่ - - - - - บ้าน เป็น หลักแหล่ง",
        "back": "ที่ รับงาน ไป ทํา ที่"
    },
    {
        "front": "ข้อ ๗ ผู้ - - - - - ที่ ประสงค์ จะ ขอ จดทะเบียน ให้ ยื่น",
        "back": "รับงาน ไป ทํา ที่ บ้าน"
    },
    {
        "front": "คําขอ จดทะเบียน ณ สํา นักงาน - - - - - นักงาน จัดหา งาน กรุงเทพมหานคร พื้นที่",
        "back": "จัดหา งาน จังหวัด หรือ สํา"
    },
    {
        "front": "แห่ง ท้องที่ ที่ สถานที่ - - - - - ตั้งอยู่ ตาม แบบ ท .รบ.๑ หรือ",
        "back": "รับงาน ไป ทํา ที่ บ้าน"
    },
    {
        "front": "ท .รบ.๒ ท้าย ระเบียบ นี้ แล้วแต่ กรณี พร้อมด้วย - - - - - ดังกล่าว",
        "back": "หลักฐาน ที่ ระบุ ใน แบบ"
    },
    {
        "front": "ข้อ ๘ เมื่อ นายทะเบียน ได้รับ คําขอ พร้อมด้วย - - - - - ให้ นายทะเบียน ตรวจสอบ",
        "back": "หลักฐาน ตาม ข้อ ๗ แล้ว"
    },
    {
        "front": "ความถูกต้อง และ ความครบถ้วน ของ คําขอ และ เอกสาร และ หลักฐาน เมื่อ - - - - -",
        "back": "ถูกต้อง ครบถ้วน แล้ว ให้ จดทะเบียน"
    },
    {
        "front": "เป็น - - - - - บ้าน",
        "back": "ผู้ รับงาน ไป ทํา ที่"
    },
    {
        "front": "ในกรณีที่ คําขอ หรือ เอกสาร หรือ หลักฐาน ไม่ ครบถ้วน ให้ มี - - - - -",
        "back": "หนังสือ แจ้ง ให้ ผู้ ยื่น"
    },
    {
        "front": "คําขอ แก้ไข เพิ่มเติม ให้ ถูกต้อง หรือ ส่ง เอกสาร หรือ หลักฐาน ให้ ถูกต้อง ครบถ้วน - - - - -",
        "back": "ภายใน ระยะเวลา ที่ เจ้าหน้าที่ กําหนด"
    },
    {
        "front": "ในกรณีที่ ผู้ ยื่น คําขอ ไม่ แก้ไข เพิ่มเติม คําขอ - - - - - ให้ ถูกต้อง",
        "back": "หรือไม่ จัดส่ง เอกสาร หรือ หลักฐาน"
    },
    {
        "front": "ครบถ้วน ภายใน ระยะเวลา ที่ กําหนด ให้ นายทะเบียน แจ้ง - - - - - ให้ ผู้",
        "back": "การ ไม่ จดทะเบียน พร้อมด้วย เหตุผล"
    },
    {
        "front": "ยื่น คําขอ ทราบ - - - - - นับแต่ พ้น กําหนด ระยะเวลา ตาม วรรค สอง",
        "back": "ภายใน เจ็ด วัน ทํา การ"
    },
    {
        "front": "ทะเบียน - - - - - บ้าน ให้ ใช้ แบบ ท .รบ.๓ หรือ ท .รบ.๔",
        "back": "ผู้ รับงาน ไป ทํา ที่"
    },
    {
        "front": "ท้าย ระเบียบ นี้ แล้วแต่ กรณี - - - - - นับแต่ วันที่ จดทะเบียน",
        "back": "และ ให้ มีอายุ ห้า ปี"
    },
    {
        "front": "ข้อ ๙ ผู้ รับงาน ไป ทํา ที่ บ้าน - - - - - ทะเบียน ให้",
        "back": "ที่ ประสงค์ จะ ขอ ต่ออายุ"
    },
    {
        "front": "- - - - - บท .รบ.๕ หรือ ท .รบ.๖ ท้าย ระเบียบ นี้ แล้วแต่ กรณี",
        "back": "ยื่น คําขอ ต่ออายุ ตาม แบ"
    },
    {
        "front": "พร้อมด้วย หลักฐาน ที่ ระบุ - - - - - สิ้น อายุ ไม่ น้อยกว่า สิบห้า วัน",
        "back": "ใน แบบ ดังกล่าว ก่อน ทะเบียน"
    },
    {
        "front": "และ ให้ นํา หลักเกณฑ์ ตาม ข้อ ๘ - - - - - ต่อ ทะเบียน โดย อนุโลม",
        "back": "มา ใช้ บังคับ กับ การ"
    },
    {
        "front": "ในกรณีที่ ผู้ - - - - - มิได้ ยื่น คําขอ ต่ออายุ ตาม วรรค หนึ่ง และ",
        "back": "รับงาน ไป ทํา ที่ บ้าน"
    },
    {
        "front": "ผู้ รับงาน ไป ทํา ที่ บ้าน นั้น - - - - - หนี้ ต่อ กองทุน",
        "back": "ยังมี ภาระผูกพัน ต้อง ชํา ระ"
    },
    {
        "front": "- - - - - ที่ บ้าน แล้ว ให้ อายุ ของ ทะเบียน ตาม ข้อ ๘",
        "back": "เพื่อ ผู้ รับงาน ไป ทํา"
    },
    {
        "front": "ขยาย ต่อไป จนกว่า ผู้ รับงาน ไป ทํา ที่ บ้าน จะ - - - - -",
        "back": "ชํา ระ หนี้ เสร็จสิ้น"
    },
    {
        "front": "หน้า ๓ เล่ม ๑๓๔ ตอน - - - - - มีนาคม ๒๕๖๐",
        "back": "พิเศษ ๖๗ ง ราชกิจจานุเบกษา ๓"
    },
    {
        "front": "ข้อ ๑๐ ผู้ รับงาน ไป ทํา ที่ บ้าน - - - - - ชื่อตัว ชื่อรอง",
        "back": "ผู้ใด ประสงค์ จะ ขอ เปลี่ยนแปลง"
    },
    {
        "front": "ชื่อสกุล หรือ ที่อยู่ ต้อง แจ้ง - - - - - นับ แต่วัน เปลี่ยนแปลง ตาม แบบ",
        "back": "ต่อ นายทะเบียน ภายใน สิบห้า วัน"
    },
    {
        "front": "ท - - - - -",
        "back": ".รบ.๗ ท้าย ระเบียบ นี้"
    },
    {
        "front": "ให้ นายทะเบียน จด แจ้ง การเปลี่ยนแปลง ไว้ ด้านหลัง ใบ ทะเบียน - - - - - บ้าน",
        "back": "ผู้ รับงาน ไป ทํา ที่"
    },
    {
        "front": "ภายใน เจ็ด วัน - - - - - คําขอ",
        "back": "ทํา การ นับแต่ วันที่ ได้รับ"
    },
    {
        "front": "ข้อ ๑๑ ให้ นายทะเบียน รายงาน ผล การ ปฏิบัติงาน - - - - - ระเบียบ นี้",
        "back": "ตาม แบบ ท .รบ.๘ ท้าย"
    },
    {
        "front": "ให้ อธิบดี - - - - - เดือน ถัดไป",
        "back": "ทราบ ทุก วันที่ ห้า ของ"
    },
    {
        "front": "ข้อ ๑๒ - - - - - ตามระเบียบ นี้ และ มี อํา นา จ ตีความ",
        "back": "ให้ อธิบดี กรมการจัดหางาน เป็น ผู้รักษาการ"
    },
    {
        "front": "วินิจฉัย ปัญหา - - - - -",
        "back": "เกี่ยวกับ การปฏิบัติ ตามระเบียบ นี้"
    },
    {
        "front": "ประกาศ ณ วันที่ - - - - - ชู อํา นา จ อธิบดี กรมการจัดหางาน",
        "back": "๘ กุมภาพันธ์ พ.ศ.๒๕๖๐ สิงห เดช"
    }
];

function getCurrentCardKey() {
    // ตัวอย่าง: สมมติว่า URL คือ "http://example.com/pages/index.html"
    const pathName = window.location.pathname; // "/pages/index.html"
    const pageName = pathName.split('/').pop(); // "index.html"
    const baseName = pageName.split('.').shift(); // "index"
    return `currentCard_${baseName}`; // "currentCard_index"
}
    // ใช้ getKey แทนที่จะใช้ currentCardKey แบบตรงๆ
    let currentCardKey = getCurrentCardKey();
    let currentCard = localStorage.getItem(currentCardKey) ? parseInt(localStorage.getItem(currentCardKey), 10) : 0;
    
    // โค้ดอื่นๆที่จัดการกับการแสดงบัตรคำและการอัพเดต localStorage

  // อ่านค่า currentCard จาก localStorage หรือเริ่มต้นที่ 0 หากไม่มี
  //let currentCard = localStorage.getItem(currentCardKey) ? parseInt(localStorage.getItem(currentCardKey), 10) : 0;
  let isFront = true;

  const flashcardElement = document.getElementById('flashcard');
  updateFlashcard();

  function updateFlashcard() {
      flashcardElement.textContent = isFront ? flashcards[currentCard].front : flashcards[currentCard].back;
      //flashcardElement.style.lineHeight = '5px';
  }

  flashcardElement.addEventListener('click', () => {
      if (!isFront) {
          currentCard = (currentCard + 1) % flashcards.length;
          localStorage.setItem(currentCardKey, currentCard); // บันทึกค่า currentCard ไว้ใน localStorage
          isFront = true;
      } else {
          isFront = false;
      }
      updateFlashcard();
  });

  // ตัวจัดการเหตุการณ์เมื่อหน้าเพจกำลังจะถูกปิด
  window.addEventListener('beforeunload', function() {
      localStorage.setItem(currentCardKey, currentCard); // อัปเดตค่า currentCard ล่าสุดใน localStorage
  });

  const resetButton = document.getElementById('resetButton');
  resetButton.addEventListener('click', function() {
    currentCard = 0; // รีเซ็ตค่า currentCard เป็น 0
    localStorage.setItem(currentCardKey, currentCard); // บันทึกค่า currentCard ล่าสุดไว้ใน localStorage
    isFront = true; // ตั้งค่าให้แสดงด้านหน้าของบัตรคำ
    updateFlashcard(); // อัปเดตแสดงผลบัตรคำ
  });

});
